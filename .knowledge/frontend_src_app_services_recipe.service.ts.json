{"is_source_file": true, "format": "TypeScript", "description": "This file defines an Angular service named RecipeService responsible for fetching recipe data from an API endpoint or returning mock data for testing purposes. It provides methods to list recipes with optional query filtering and retrieve individual recipes by ID.", "external_files": ["../models/recipe.model", "../../environments/environment", "./mock-data"], "external_methods": ["HttpClient.get", "Observable.of", "throwError"], "published": ["RecipeService"], "classes": [{"name": "RecipeService", "description": "An Angular service providing methods to fetch and filter recipes from an API or mock data."}], "methods": [{"name": "listRecipes", "description": "Retrieves a list of recipes, optionally filtered by a query string; falls back to mock data upon failure or if API base URL is not configured."}, {"name": "getRecipeById", "description": "Retrieves a single recipe by its ID, using mock data if API URL is unavailable, with error handling for not found scenarios."}, {"name": "filter", "description": "Filters an array of recipes based on a search query, matched against titles, descriptions, ingredients, and tags."}], "calls": ["this.http.get", "of", "throwError", "this.filter", "console.warn"], "search-terms": ["RecipeService", "Angular", "recipe fetching", "mock data fallback", "filter recipes", "environment base URL", "HTTP client", "observable data"], "state": 2, "file_id": 25, "knowledge_revision": 56, "git_revision": "", "ctags": [{"_type": "tag", "name": "RecipeService", "path": "/home/kavia/workspace/code-generation/recipe-explorer-47865-47888/frontend/src/app/services/recipe.service.ts", "pattern": "/^export class RecipeService {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "found", "path": "/home/kavia/workspace/code-generation/recipe-explorer-47865-47888/frontend/src/app/services/recipe.service.ts", "pattern": "/^        const found = MOCK_RECIPES.find(r => r.id === id);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "found", "path": "/home/kavia/workspace/code-generation/recipe-explorer-47865-47888/frontend/src/app/services/recipe.service.ts", "pattern": "/^      const found = MOCK_RECIPES.find(r => r.id === id);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "http", "path": "/home/kavia/workspace/code-generation/recipe-explorer-47865-47888/frontend/src/app/services/recipe.service.ts", "pattern": "/^  private http = inject(HttpClient);$/", "language": "TypeScript", "kind": "property", "scope": "RecipeService", "scopeKind": "class"}, {"_type": "tag", "name": "params", "path": "/home/kavia/workspace/code-generation/recipe-explorer-47865-47888/frontend/src/app/services/recipe.service.ts", "pattern": "/^    const params = query ? { q: query } as any : undefined;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "q", "path": "/home/kavia/workspace/code-generation/recipe-explorer-47865-47888/frontend/src/app/services/recipe.service.ts", "pattern": "/^    const params = query ? { q: query } as any : undefined;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "q", "path": "/home/kavia/workspace/code-generation/recipe-explorer-47865-47888/frontend/src/app/services/recipe.service.ts", "pattern": "/^    const q = query.toLowerCase().trim();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/recipe-explorer-47865-47888/frontend/src/app/services/recipe.service.ts", "pattern": "/^    const url = `${this.baseUrl.replace(\\/\\\\\\/+$\\/, '')}\\/recipes\\/${encodeURIComponent(id)}`;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/recipe-explorer-47865-47888/frontend/src/app/services/recipe.service.ts", "pattern": "/^    const url = `${this.baseUrl.replace(\\/\\\\\\/+$\\/, '')}\\/recipes`;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "useMock", "path": "/home/kavia/workspace/code-generation/recipe-explorer-47865-47888/frontend/src/app/services/recipe.service.ts", "pattern": "/^    const useMock = !this.baseUrl;$/", "language": "TypeScript", "kind": "constant"}], "hash": "99d8a13cf4bfadec7359edf215a5b0e3", "format-version": 4, "code-base-name": "frontend", "filename": "frontend/src/app/services/recipe.service.ts", "fields": [{"name": "private http = inject(HttpClient);", "scope": "RecipeService", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"56": ""}]}